!function(e,t){"function"==typeof define&&define.amd?define(["dependency"],t):"object"==typeof module&&module.exports?module.exports=t(require("dependency")):e.returnExports=t(e.dependency)}(this,function(e){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){var i="function"==typeof Map?new Map:void 0;return(c=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(e))return i.get(e);i.set(e,n)}function n(){return u(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)})(e)}function u(e,t,n){return(u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&a(o,n.prototype),o}).apply(null,arguments)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}customElements.define("el-imgview",function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,s(e).call(this))}var t,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(e,c(HTMLImageElement)),t=e,(n=[{key:"connectedCallback",value:function(){var e=this;this.addEventListener("click",function(){return e.openView()})}},{key:"disconnectedCallback",value:function(){window.removeEventListener("keyup",this.$onEscape)}},{key:"openView",value:function(){document.body.append(this.createView()),document.body.style.overflow="hidden",this.emmit("el-imgview-show"),this.execInlineEvent("data-on:show")}},{key:"createView",value:function(){var t=this,e=document.createElement("div");return e.classList.add("el-imgview-view"),e.addEventListener("click",function(e){t.removeView()}),e.setAttribute("data-view-loading-text",this.dataset.viewLoadingText||"..."),e.innerHTML='<div class="el-imgview-view__image" style="background-image:url('.concat(this.dataset.view,')"></div>'),e.append(this.createCloseBtn()),this.view=e,this.addCloseListeners(),this.view}},{key:"createCloseBtn",value:function(){var e=this,t=document.createElement("div");return t.classList.add("el-imgview-view__close"),t.addEventListener("click",function(){return e.view.remove()}),t}},{key:"removeView",value:function(){this.view.remove(),document.body.style.overflow="initial",this.emmit("el-imgview-close"),this.execInlineEvent("data-on:close")}},{key:"addCloseListeners",value:function(){var t=this;this.$onEscape=window.addEventListener("keyup",function(e){"Escape"===e.key&&t.removeView()})}},{key:"emmit",value:function(e){var t=Object.assign(new CustomEvent(e,{detail:this}),{imgview:this});document.dispatchEvent(t)}},{key:"execInlineEvent",value:function(e){if(!this.getAttribute(e))return null;window[this.getAttribute(e).split("(")[0].trim()](this)}}])&&o(t.prototype,n),i&&o(t,i),e}(),{extends:"img"})});